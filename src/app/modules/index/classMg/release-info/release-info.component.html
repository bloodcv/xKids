<div class="release_info_wrap">
  <div class="form_wrap">
    <form nz-form [nzNoColon]="true" [formGroup]="releaseInfoForm" (ngSubmit)="submitForm(releaseInfoForm.value)">
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired nzFor="school">选择学校</nz-form-label>
        <nz-form-control [nzSpan]="18" nzErrorTip="必选">
          <nz-select id="school" formControlName="school" nzPlaceHolder="请选择学校">
            <nz-option *ngFor="let item of schoolData" [nzValue]="item.value" [nzLabel]="item.label"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired nzFor="class">选择班级</nz-form-label>
        <nz-form-control [nzSpan]="18" nzErrorTip="必选">
          <nz-select id="class" formControlName="class" nzPlaceHolder="请选择班级">
            <nz-option *ngFor="let item of classData" [nzValue]="item.value" [nzLabel]="item.label"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired nzFor="title">标题</nz-form-label>
        <nz-form-control [nzSpan]="18" nzErrorTip="必填">
          <input id="title" type="text" nz-input formControlName="title" placeholder="请输入" />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired nzFor="type">类别</nz-form-label>
        <nz-form-control [nzSpan]="18" nzErrorTip="必选">
          <nz-select id="type" formControlName="type" nzPlaceHolder="请选择类别">
            <nz-option *ngFor="let item of typeData" [nzValue]="item.value" [nzLabel]="item.label"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired nzFor="publishUser">发布人</nz-form-label>
        <nz-form-control [nzSpan]="18" nzErrorTip="必选">
          <nz-select id="publishUser" formControlName="publishUser" nzPlaceHolder="请选择发布人">
            <nz-option *ngFor="let item of publishUserData" [nzValue]="item.value" [nzLabel]="item.label"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired nzFor="description">说明</nz-form-label>
        <nz-form-control [nzSpan]="18" nzErrorTip="必填">
          <textarea id="description" nz-input formControlName="description" placeholder="请输入"
            [nzAutosize]="{ minRows: 5, maxRows: 8 }"></textarea>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired nzFor="files">添加图片</nz-form-label>
        <nz-form-control [nzSpan]="18">
          <nz-upload nzAction="https://jsonplaceholder.typicode.com/posts/" nzListType="picture-card"
            [(nzFileList)]="fileList" [nzShowButton]="fileList.length < 3" [nzShowUploadList]="showUploadList"
            [nzPreview]="handlePreview">
            <i nz-icon nzType="plus"></i>
            <div class="ant-upload-text">Upload</div>
          </nz-upload>
          <nz-modal [nzVisible]="previewVisible" [nzContent]="modalContent" [nzFooter]="null"
            (nzOnCancel)="previewVisible = false">
            <ng-template #modalContent>
              <img [src]="previewImage" [ngStyle]="{ width: '100%' }" />
            </ng-template>
          </nz-modal>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item class="release_info_form_button_wrap">
        <nz-form-label [nzSpan]="6"></nz-form-label>
        <nz-form-control [nzSpan]="18">
          <button class="release_info_form_button" nz-button [nzType]="'primary'">保存</button>
          <button class="release_info_form_button" nz-button [nzType]="'primary'">直接发布</button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</div>